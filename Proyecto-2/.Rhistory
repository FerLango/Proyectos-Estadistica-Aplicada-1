subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks = seq(0,100,5))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks = seq(0,100,5)) +
scale_y_continuous(breaks = seq(0,1,.1))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_mues$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_mues$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1)) +
ggplotly()
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_mues$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1)) +
ggplotly()
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_mues$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1)) %>%
ggplotly()
sup <-
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_mues$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1))
#sup <-
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_mues$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1))
sup <- pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N) %>%
mutate(cum = 1 - cumsum(p),
type = rep("cerrado",N),
match = c(1:(N-1), -1))
sup <-
sup %>%
add_row(tiempo = sup$tiempo,
cum = c(1,sup$cum[1:length(sup$cum)-1]),
type = rep("abierto",N),
match = 0:(N-1)) %>%
add_row(tiempo=0,cum=1, type="cerrado", match=0) %>%
arrange(desc(type))
#sup <-
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_mues$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1))
ggplotly()
#sup <-
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_mues$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1))
ggplotly(tooltip = c("tiempo", "cum"))
set.seed(1)
N <- 100
persona <- 1:N
tiempo <- rnorm(N, 50, 20) %>%
abs() %>%
ceiling()
p_0 <- rbinom(N,1,0)
p_25 <- rbinom(N,1,.25)
p_50 <- rbinom(N,1,.50)
p_75 <- rbinom(N,1,.75)
pacientes_pob <- data.frame(persona, tiempo, p_0, p_25, p_50, p_75)
rm(persona,tiempo,p_0,p_25,p_50,p_75)
head(pacientes_pob, 20) %>%
kable()
medias_com_pob <- NULL
for (i in 3:6) {
temp <-
pacientes_pob %>%
select(persona,tiempo, i) %>%
filter_at(3, all_vars(.==0)) %>%
select(2) %>%
as.vector() %>%
unlist() %>%
mean()
medias_com_pob <-append(medias_com_pob, temp)
}
rm(temp,i)
names(medias_com_pob) <- c("p=0","p=.25","p=.50", "p=.75")
medias_com_pob %>%
kable()
temp <-
pacientes_pob %>%
select(tiempo) %>%
as.vector() %>%
unlist() %>%
mean()
medias_todo_pob <- rep(temp,4)
rm(temp)
names(medias_todo_pob) <- c("p=0","p=.25","p=.50", "p=.75")
medias_todo_pob %>%
kable()
sup <- pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N) %>%
mutate(cum = 1 - cumsum(p),
type = rep("cerrado",N),
match = c(1:(N-1), -1))
pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo)
pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N)
pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N) %>%
mutate(cum = 1 - cumsum(p),
type = rep("cerrado",N),
match = c(1:(N-1), -1))
set.seed(1)
N <- 100
persona <- 1:N
tiempo <- rnorm(N, 50, 20) %>%
abs() %>%
ceiling()
p_0 <- rbinom(N,1,0)
p_25 <- rbinom(N,1,.25)
p_50 <- rbinom(N,1,.50)
p_75 <- rbinom(N,1,.75)
pacientes_pob <- data.frame(persona, tiempo, p_0, p_25, p_50, p_75)
rm(persona,tiempo,p_0,p_25,p_50,p_75)
head(pacientes_pob, 20) %>%
kable()
medias_com_pob <- NULL
for (i in 3:6) {
temp <-
pacientes_pob %>%
select(persona,tiempo, i) %>%
filter_at(3, all_vars(.==0)) %>%
select(2) %>%
as.vector() %>%
unlist() %>%
mean()
medias_com_pob <-append(medias_com_pob, temp)
}
rm(temp,i)
names(medias_com_pob) <- c("p=0","p=.25","p=.50", "p=.75")
medias_com_pob %>%
kable()
temp <-
pacientes_pob %>%
select(tiempo) %>%
as.vector() %>%
unlist() %>%
mean()
medias_todo_pob <- rep(temp,4)
rm(temp)
names(medias_todo_pob) <- c("p=0","p=.25","p=.50", "p=.75")
medias_todo_pob %>%
kable()
pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N) %>%
mutate(cum = 1 - cumsum(p))
sup <-
pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N)
sup <-
sup %>%
mutate(cum = 1 - cumsum(p),
type = rep("cerrado",length(sup$tiempo)),
match = c(1:(length(sup$tiempo)-1), -1))
sup
sup <-
sup %>%
add_row(tiempo = sup$tiempo,
cum = c(1,sup$cum[1:length(sup$cum)-1]),
type = rep("abierto",N),
match = 0:(N-1)) %>%
add_row(tiempo=0,cum=1, type="cerrado", match=0) %>%
arrange(desc(type))
sup$tiempo
length(sup$tiempo)
length(c(1,sup$cum[1:length(sup$cum)-1]))
length(rep("abierto",N))
sup <-
pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N)
sup <-
sup %>%
mutate(cum = 1 - cumsum(p),
type = rep("cerrado",length(sup$tiempo)),
match = c(1:(length(sup$tiempo)-1), -1))
sup <-
sup %>%
add_row(tiempo = sup$tiempo,
cum = c(1,sup$cum[1:length(sup$cum)-1]),
type = rep("abierto",length(sup$tiempo)),
match = 0:(length(sup$tiempo)-1)) %>%
add_row(tiempo=0,cum=1, type="cerrado", match=0) %>%
arrange(desc(type))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
# geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,N+1),rep(1,N)))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5)
View(sup)
nrow(sup)
nrow(sup)/2
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size=4,
pch = c(rep(19,ceiling(nrow(sup)/2)),
rep(1,floor(nrow(sup)/2))))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match)) +
geom_point(aes(color=type, pch = type),
pch = c(rep(19,ceiling(nrow(sup)/2)),
rep(1,floor(nrow(sup)/2)))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_mues$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match)) +
geom_point(aes(color=type, pch = type),
pch = c(rep(19,ceiling(nrow(sup)/2)),
rep(1,floor(nrow(sup)/2)))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_pob$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1))
sup <-
pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N)
sup <-
sup %>%
mutate(cum = 1 - cumsum(p),
type = rep("cerrado",length(sup$tiempo)),
match = c(1:(length(sup$tiempo)-1), -1))
sup <-
sup %>%
add_row(tiempo = sup$tiempo,
cum = c(1,sup$cum[1:length(sup$cum)-1]),
type = rep("abierto",length(sup$tiempo)),
match = 0:(length(sup$tiempo)-1)) %>%
add_row(tiempo=0,cum=1, type="cerrado", match=0) %>%
arrange(desc(type))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match)) +
geom_point(aes(color=type, pch = type),
pch = c(rep(19,ceiling(nrow(sup)/2)),
rep(1,floor(nrow(sup)/2)))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_pob$tiempo),5)) +
scale_y_continuous(breaks = seq(0,1,.1))
ggplotly(tooltip = c("tiempo", "cum"))
max(pacientes_pob$tiempo)
sup <-
pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N)
sup <-
sup %>%
mutate(cum = 1 - cumsum(p),
type = rep("cerrado",length(sup$tiempo)),
match = c(1:(length(sup$tiempo)-1), -1))
sup <-
sup %>%
add_row(tiempo = sup$tiempo,
cum = c(1,sup$cum[1:length(sup$cum)-1]),
type = rep("abierto",length(sup$tiempo)),
match = 0:(length(sup$tiempo)-1)) %>%
add_row(tiempo=0,cum=1, type="cerrado", match=0) %>%
arrange(desc(type))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match)) +
geom_point(aes(color=type, pch = type),
pch = c(rep(19,ceiling(nrow(sup)/2)),
rep(1,floor(nrow(sup)/2)))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_pob$tiempo)+5,5)) +
scale_y_continuous(breaks = seq(0,1,.1))
ggplotly(tooltip = c("tiempo", "cum"))
sup <-
pacientes_pob %>%
select(tiempo) %>%
arrange(tiempo) %>%
group_by(tiempo) %>%
tally() %>%
mutate(p = n/N)
sup <-
sup %>%
mutate(cum = 1 - cumsum(p),
type = rep("cerrado",length(sup$tiempo)),
match = c(1:(length(sup$tiempo)-1), -1))
sup <-
sup %>%
add_row(tiempo = sup$tiempo,
cum = c(1,sup$cum[1:length(sup$cum)-1]),
type = rep("abierto",length(sup$tiempo)),
match = 0:(length(sup$tiempo)-1)) %>%
add_row(tiempo=0,cum=1, type="cerrado", match=0) %>%
arrange(desc(type))
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match)) +
geom_point(aes(color=type, pch = type),
pch = c(rep(19,ceiling(nrow(sup)/2)),
rep(1,floor(nrow(sup)/2)))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_pob$tiempo)+5,5)) +
scale_y_continuous(breaks = seq(0,1,.1))
ggplotly(tooltip = c("tiempo", "cum"))
?geom_smooth
sup_plot <-
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size = 1,
pch = c(rep(19,ceiling(nrow(sup)/2)),
rep(1,floor(nrow(sup)/2)))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_pob$tiempo)+5,5)) +
scale_y_continuous(breaks = seq(0,1,.1)) +
geom_smooth()
sup_plot
sup_plot <-
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size = 1,
pch = c(rep(19,ceiling(nrow(sup)/2)),
rep(1,floor(nrow(sup)/2)))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_pob$tiempo)+5,5)) +
scale_y_continuous(breaks = seq(0,1,.1)) +
geom_smooth(se =FALSE)
sup_plot
sup_plot <-
sup %>%
ggplot(aes(x=tiempo, y=cum)) +
geom_line(aes(group = match), size = .5) +
geom_point(aes(color=type, pch = type), size = 1,
pch = c(rep(19,ceiling(nrow(sup)/2)),
rep(1,floor(nrow(sup)/2)))) +
labs(title = "Función de supervivencia empírica",
subtitle = "Población",
x = "Tiempo en días",
y = "Probabilidad de sobrevivir") +
theme(legend.position = "none") +
scale_x_continuous(breaks =
seq(0,max(pacientes_pob$tiempo)+5,5)) +
scale_y_continuous(breaks = seq(0,1,.1)) +
geom_line()
sup_plot
