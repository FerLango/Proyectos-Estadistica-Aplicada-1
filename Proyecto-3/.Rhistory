cantidad <-
tweets$user$name %>%
data.frame()
View(cantidad)
group_by(.) %>%
tally()
cantidad <-
tweets$user$name %>%
data.frame()
names(cantidad)
group_by(".") %>%
tally()
cantidad <-
tweets$user$name %>%
data.frame() %>%
group_by(.) %>%
tally()
View(cantidad)
cantidad <-
tweets$user$name %>%
data.frame() %>%
group_by(".") %>%
tally()
View(cantidad)
cantidad <-
tweets$user$name %>%
data.frame() %>%
rename(name = .)
cantidad <-
tweets$user$name %>%
data.frame()
names(cantidad)
View(cantidad)
cantidad <-
tweets$user$id_str
unique(cantidad)
length(unique(cantidad))
cantidad <-
tweets$user$id_str %>%
data.frame() %>%
group_by(.) %>%
tally()
View(cantidad)
?data.frame
cantidad <-
data.frame(id = tweets$user$id_str)
View(cantidad)
cantidad <-
data.frame(id = tweets$user$id_str) %>%
group_by(id) %>%
tally()
View(cantidad)
toString(t/60/60/24)
media_carac <- (100/N_hat) * cantidad
media_cant_mue <-
cantidad %>%
select(n) %>%
mean()
media_cant_mue <-
cantidad %>%
select(n)
View(coords)
View(media_cant_mue)
media_cant_mue <-
cantidad %>%
select(n) %>%
mean(n)
media_cant_mue <-
cantidad %>%
select(n) %>%
mean(n)
media_cant_mue <-
cantidad %>%
select(n)
View(media_cant_mue)
media_cant_mue <-
cantidad$n %>%
mean()
media_cant <- (100/N_hat) * media_cant_mue
media_cant_mue <-
cantidad$n %>%
sum()
cant_mue <-
cantidad$n %>%
sum()
cantidad <-
data.frame(id = tweets$user$id_str) %>%
group_by(id) %>%
tally() %>%
select() %>%
sum()
cantidad <-
data.frame(id = tweets$user$id_str) %>%
group_by(id) %>%
tally() %>%
select(n) %>%
sum()
cantidad <-
data.frame(id = tweets$user$id_str) %>%
group_by(id) %>%
tally()
cantidad <- nrow(tweets)
media_cant <- (100/N_hat) * cantidad
prueba <-
tweets$user$id_str
prueba <-
data.frame(id = tweets$user$id_str)
prueba <-
data.frame(id = tweets$user$id_str) %>%
group_by(id) %>%
tally()
View(prueba)
mean(prueba$n)
media_cant <- (100/N_hat) * mean(prueba$n)
media_cant <- (100/N_hat) * cantidad
View(prueba)
stream_tweets(geocode = coords, timeout = t, parse = T)
file.exists("stream_tweets.json")
?sample
length(unique(tweets$text))
N_hat <- 1/(1-(1-.01)^(1/length(unique(tweets$text))))
m <- 1000
confianza <- 95
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap$text))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
ic_bajo_bootstrap_1
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap$text))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap$text))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 5
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap$text))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 50
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap$text))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap$text))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
N_hats
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap$text))))
}
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
View(muestra_bootstrap)
length(unique(muestra_bootstrap$text))
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
length(unique(muestra_bootstrap$text))
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
length(unique(muestra_bootstrap$text))
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
length(unique(muestra_bootstrap$text))
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap$text))))
}
head(N_hats)
muestra_bootstrap <- sample(tweets, length(tweets), replace = T)
muestra_bootstrap
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap$text))))
}
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
N_hat <- 1/(1-(1-.01)^(1/length(unique(tweets$text))))
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
muestra_bootstrap <- sample(tweets$text, length(tweets), replace = T)
length(unique(muestra_bootstrap))
length(tweets)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
N_hat <- 1/(1-(1-.01)^(1/length(unique(tweets$text))))
N_hat <- 1/(1-(1-.01)^(1/length(unique(tweets$text))))
N_hat <- 1/(1-(1-.01)^(1/length(unique(tweets$text))))
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
muestra_bootstrap <- sa
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
m <- 1000
confianza <- 90
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 90
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 95
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 99
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
m <- 10000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
toString(round(ic_alto_bootstrap_1))
media_caracs <- rep(NA, m)
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
carac_temp <- muestra_bootstrap %>% sapply(nchar) %>% sum()
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
media_caracs <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
carac_temp <- muestra_bootstrap %>% sapply(nchar) %>% sum()
media_caracs[i] <- (100/N_hat) * carac_temp
}
ic_bajo_bootstrap_2 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_2 <- quantile(N_hats, 1-alfa/2)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
media_caracs <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
carac_temp <- muestra_bootstrap %>% sapply(nchar) %>% sum()
media_caracs[i] <- (100/N_hat) * carac_temp
}
ic_bajo_bootstrap_2 <- quantile(media_caracs, alfa/2)
ic_alto_bootstrap_2 <- quantile(media_caracs, 1-alfa/2)
cantidad <- nrow(tweets)
ength(unique(tweets$user$id_str))
length(unique(tweets$user$id_str))
media_cant <- length(unique(tweets$user$id_str)) * cantidad
media_cant <-  cantidad / length(unique(tweets$user$id_str))
muestra_bootstrap <- sample(tweets$user$id_str, nrow(tweets), replace = T)
muestra_bootstrap <- sample(tweets$user$id_str, nrow(tweets), replace = T)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
media_cants <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$user$id_str, nrow(tweets), replace = T)
media_cants[i] <- nrow(muestra_bootstrap)/length(unique(muestra_bootstrap))
}
tweets$user$id_str
nrow(tweets)
nrow(muestra_bootstrap)
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
media_cants <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$user$id_str, nrow(tweets), replace = T)
media_cants[i] <- length(muestra_bootstrap)/
length(unique(muestra_bootstrap))
}
ic_bajo_bootstrap_3 <- quantile(media_cants, alfa/2)
ic_alto_bootstrap_3 <- quantile(media_cants, 1-alfa/2)
c(toString(round(ic_bajo_bootstrap_3,2)), toString(round(ic_alto_bootstrap_3,2)))
knitr::opts_chunk$set(echo = TRUE, warning = FALSE,
message = FALSE, fig.align = "center")
library(rtweet)
coords <- lookup_coords(address = "Mexico City",
components = "country:Mexico",
apikey = Sys.getenv("maps.apikey"))
t <- 60
if (file.exists("stream_tweets.json")) {
file.remove("stream_tweets.json")
}
tweets <- stream_tweets(geocode = coords, timeout = t, parse = T)
library(tidyverse)
N_hat <- 1/(1-(1-.01)^(1/length(unique(tweets$text))))
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
N_hats <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
N_hats[i] <- 1/(1-(1-.01)^(1/length(unique(muestra_bootstrap))))
}
ic_bajo_bootstrap_1 <- quantile(N_hats, alfa/2)
ic_alto_bootstrap_1 <- quantile(N_hats, 1-alfa/2)
caracteres <-
tweets %>%
select(text) %>%
sapply(nchar) %>%
sum()
media_carac <- (100/N_hat) * caracteres
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
media_caracs <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$text, length(tweets$text), replace = T)
carac_temp <- muestra_bootstrap %>% sapply(nchar) %>% sum()
media_caracs[i] <- (100/N_hat) * carac_temp
}
ic_bajo_bootstrap_2 <- quantile(media_caracs, alfa/2)
ic_alto_bootstrap_2 <- quantile(media_caracs, 1-alfa/2)
cantidad <- nrow(tweets)
media_cant <-  cantidad / length(unique(tweets$user$id_str))
m <- 1000
confianza <- 80
alfa <- (100-confianza)/100
media_cants <- rep(NA, m)
for (i in 1:m) {
muestra_bootstrap <- sample(tweets$user$id_str, nrow(tweets), replace = T)
media_cants[i] <- length(muestra_bootstrap)/
length(unique(muestra_bootstrap))
}
ic_bajo_bootstrap_3 <- quantile(media_cants, alfa/2)
ic_alto_bootstrap_3 <- quantile(media_cants, 1-alfa/2)
